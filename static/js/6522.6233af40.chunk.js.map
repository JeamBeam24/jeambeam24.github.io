{"version":3,"file":"static/js/6522.6233af40.chunk.js","mappings":"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","sources":["components/Toggle/MultiToggle.tsx","components/RateToggle/index.tsx","hooks/useV3PositionFees.ts","hooks/usePositionTokenURI.ts","pages/Pool/PositionPage.tsx"],"sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const ToggleWrapper = styled.button<{ width?: string }>`\r\n  display: flex;\r\n  align-items: center;\r\n  width: ${({ width }) => width ?? '100%'};\r\n  padding: 1px;\r\n  background: ${({ theme }) => theme.surface2};\r\n  border-radius: 8px;\r\n  border: ${({ theme }) => '1px solid ' + theme.surface3};\r\n  cursor: pointer;\r\n  outline: none;\r\n`\r\n\r\nexport const ToggleElement = styled.span<{ isActive?: boolean; fontSize?: string }>`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 4px 0.5rem;\r\n  border-radius: 6px;\r\n  justify-content: center;\r\n  height: 100%;\r\n  background: ${({ theme, isActive }) => (isActive ? theme.surface1 : 'none')};\r\n  color: ${({ theme, isActive }) => (isActive ? theme.neutral1 : theme.neutral3)};\r\n  font-size: ${({ fontSize }) => fontSize ?? '1rem'};\r\n  font-weight: 535;\r\n  white-space: nowrap;\r\n  :hover {\r\n    user-select: initial;\r\n    color: ${({ theme, isActive }) => (isActive ? theme.neutral2 : theme.neutral3)};\r\n  }\r\n`\r\n","import { Currency } from '@uniswap/sdk-core'\r\nimport { ToggleElement, ToggleWrapper } from 'components/Toggle/MultiToggle'\r\n\r\n// the order of displayed base currencies from left to right is always in sort order\r\n// currencyA is treated as the preferred base currency\r\nexport default function RateToggle({\r\n  currencyA,\r\n  currencyB,\r\n  handleRateToggle,\r\n}: {\r\n  currencyA: Currency\r\n  currencyB: Currency\r\n  handleRateToggle: () => void\r\n}) {\r\n  const tokenA = currencyA?.wrapped\r\n  const tokenB = currencyB?.wrapped\r\n\r\n  const isSorted = tokenA && tokenB && tokenA.sortsBefore(tokenB)\r\n\r\n  return tokenA && tokenB ? (\r\n    <div style={{ width: 'fit-content', display: 'flex', alignItems: 'center' }} onClick={handleRateToggle}>\r\n      <ToggleWrapper width=\"fit-content\">\r\n        <ToggleElement isActive={isSorted} fontSize=\"12px\">\r\n          {isSorted ? currencyA.symbol : currencyB.symbol}\r\n        </ToggleElement>\r\n        <ToggleElement isActive={!isSorted} fontSize=\"12px\">\r\n          {isSorted ? currencyB.symbol : currencyA.symbol}\r\n        </ToggleElement>\r\n      </ToggleWrapper>\r\n    </div>\r\n  ) : null\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\r\nimport { Pool } from '@uniswap/v3-sdk'\r\nimport { useSingleCallResult } from 'lib/hooks/multicall'\r\nimport useBlockNumber from 'lib/hooks/useBlockNumber'\r\nimport { useEffect, useState } from 'react'\r\nimport { unwrappedToken } from 'utils/unwrappedToken'\r\n\r\nimport { useV3NFTPositionManagerContract } from './useContract'\r\n\r\nconst MAX_UINT128 = BigNumber.from(2).pow(128).sub(1)\r\n\r\n// compute current + counterfactual fees for a v3 position\r\nexport function useV3PositionFees(\r\n  pool?: Pool,\r\n  tokenId?: BigNumber,\r\n  asWETH = false\r\n): [CurrencyAmount<Currency>, CurrencyAmount<Currency>] | [undefined, undefined] {\r\n  const positionManager = useV3NFTPositionManagerContract(false)\r\n  // @ts-ignore\r\n  const owner: string | undefined = useSingleCallResult(tokenId ? positionManager : null, 'ownerOf', [tokenId])\r\n    .result?.[0]\r\n\r\n  const tokenIdHexString = tokenId?.toHexString()\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  // we can't use multicall for this because we need to simulate the call from a specific address\r\n  // latestBlockNumber is included to ensure data stays up-to-date every block\r\n  const [amounts, setAmounts] = useState<[BigNumber, BigNumber] | undefined>()\r\n  useEffect(() => {\r\n    ;(async function getFees() {\r\n      if (positionManager && tokenIdHexString && owner) {\r\n        try {\r\n          const results = await positionManager.callStatic.collect(\r\n            {\r\n              tokenId: tokenIdHexString,\r\n              recipient: owner, // some tokens might fail if transferred to address(0)\r\n              amount0Max: MAX_UINT128,\r\n              amount1Max: MAX_UINT128,\r\n            },\r\n            { from: owner } // need to simulate the call as the owner\r\n          )\r\n          setAmounts([results.amount0, results.amount1])\r\n        } catch {\r\n          // If the static call fails, the default state will remain for `amounts`.\r\n          // This case is handled by returning unclaimed fees as empty.\r\n          // TODO(WEB-2283): Look into why we have failures with call data being 0x.\r\n        }\r\n      }\r\n    })()\r\n  }, [positionManager, tokenIdHexString, owner, latestBlockNumber])\r\n\r\n  if (pool && amounts) {\r\n    return [\r\n      CurrencyAmount.fromRawAmount(asWETH ? pool.token0 : unwrappedToken(pool.token0), amounts[0].toString()),\r\n      CurrencyAmount.fromRawAmount(asWETH ? pool.token1 : unwrappedToken(pool.token1), amounts[1].toString()),\r\n    ]\r\n  } else {\r\n    return [undefined, undefined]\r\n  }\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport JSBI from 'jsbi'\r\nimport { NEVER_RELOAD, useSingleCallResult } from 'lib/hooks/multicall'\r\nimport { useMemo } from 'react'\r\n\r\nimport { useV3NFTPositionManagerContract } from './useContract'\r\n\r\ntype TokenId = number | JSBI | BigNumber\r\n\r\nconst STARTS_WITH = 'data:application/json;base64,'\r\n\r\ntype UsePositionTokenURIResult =\r\n  | {\r\n      valid: true\r\n      loading: false\r\n      result: {\r\n        name: string\r\n        description: string\r\n        image: string\r\n      }\r\n    }\r\n  | {\r\n      valid: false\r\n      loading: false\r\n    }\r\n  | {\r\n      valid: true\r\n      loading: true\r\n    }\r\n\r\nexport function usePositionTokenURI(tokenId: TokenId | undefined): UsePositionTokenURIResult {\r\n  const contract = useV3NFTPositionManagerContract()\r\n  const inputs = useMemo(\r\n    () => [tokenId instanceof BigNumber ? tokenId.toHexString() : tokenId?.toString(16)],\r\n    [tokenId]\r\n  )\r\n  // @ts-ignore\r\n  const { result, error, loading, valid } = useSingleCallResult(contract, 'tokenURI', inputs, {\r\n    ...NEVER_RELOAD,\r\n    gasRequired: 3_000_000,\r\n  })\r\n\r\n  return useMemo(() => {\r\n    if (error || !valid || !tokenId) {\r\n      return {\r\n        valid: false,\r\n        loading: false,\r\n      }\r\n    }\r\n    if (loading) {\r\n      return {\r\n        valid: true,\r\n        loading: true,\r\n      }\r\n    }\r\n    if (!result) {\r\n      return {\r\n        valid: false,\r\n        loading: false,\r\n      }\r\n    }\r\n    const [tokenURI] = result as [string]\r\n    if (!tokenURI || !tokenURI.startsWith(STARTS_WITH))\r\n      return {\r\n        valid: false,\r\n        loading: false,\r\n      }\r\n\r\n    try {\r\n      const json = JSON.parse(atob(tokenURI.slice(STARTS_WITH.length)))\r\n\r\n      return {\r\n        valid: true,\r\n        loading: false,\r\n        result: json,\r\n      }\r\n    } catch (error) {\r\n      return { valid: false, loading: false }\r\n    }\r\n  }, [error, loading, result, tokenId, valid])\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport type { TransactionResponse } from '@ethersproject/providers'\r\nimport { InterfacePageName, LiquidityEventName, LiquiditySource } from '@uniswap/analytics-events'\r\nimport { ChainId, Currency, CurrencyAmount, Fraction, Percent, Price, Token } from '@uniswap/sdk-core'\r\nimport { NonfungiblePositionManager, Pool, Position } from '@uniswap/v3-sdk'\r\nimport { Trace, sendAnalyticsEvent } from 'analytics'\r\nimport Badge from 'components/Badge'\r\nimport { ButtonConfirmed, ButtonGray, ButtonPrimary } from 'components/Button'\r\nimport { DarkCard, LightCard } from 'components/Card'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { LoadingFullscreen } from 'components/Loader/styled'\r\nimport CurrencyLogo from 'components/Logo/CurrencyLogo'\r\nimport { RowBetween, RowFixed } from 'components/Row'\r\nimport Toggle from 'components/Toggle'\r\nimport TransactionConfirmationModal, { ConfirmationModalContent } from 'components/TransactionConfirmationModal'\r\nimport { Dots } from 'components/swap/styled'\r\nimport {\r\n  SupportedInterfaceChainId,\r\n  chainIdToBackendChain,\r\n  useIsSupportedChainId,\r\n  useSupportedChainId,\r\n} from 'constants/chains'\r\nimport { getPoolDetailsURL, getTokenDetailsURL, isGqlSupportedChain } from 'graphql/data/util'\r\nimport { useToken } from 'hooks/Tokens'\r\nimport { useV3NFTPositionManagerContract } from 'hooks/useContract'\r\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit'\r\nimport { PoolState, usePool } from 'hooks/usePools'\r\nimport useStablecoinPrice from 'hooks/useStablecoinPrice'\r\nimport { useV3PositionFees } from 'hooks/useV3PositionFees'\r\nimport { useV3PositionFromTokenId } from 'hooks/useV3Positions'\r\nimport { Trans, t } from 'i18n'\r\nimport { useSingleCallResult } from 'lib/hooks/multicall'\r\nimport useNativeCurrency from 'lib/hooks/useNativeCurrency'\r\nimport { PropsWithChildren, useCallback, useMemo, useRef, useState } from 'react'\r\nimport { Helmet } from 'react-helmet-async/lib/index'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { Bound } from 'state/mint/v3/actions'\r\nimport { useIsTransactionPending, useTransactionAdder } from 'state/transactions/hooks'\r\nimport styled, { useTheme } from 'styled-components'\r\nimport { ClickableStyle, ExternalLink, HideExtraSmall, HideSmall, StyledRouterLink, ThemedText } from 'theme/components'\r\nimport { currencyId } from 'utils/currencyId'\r\nimport { WrongChainError } from 'utils/errors'\r\nimport { NumberType, useFormatter } from 'utils/formatNumbers'\r\nimport { unwrappedToken } from 'utils/unwrappedToken'\r\nimport { useChainId } from 'wagmi'\r\n\r\nimport { DoubleCurrencyLogo } from 'components/DoubleLogo'\r\nimport { useEthersSigner } from 'hooks/useEthersSigner'\r\nimport { Text } from 'ui/src'\r\nimport { useAccount } from 'wagmi'\r\nimport RangeBadge from '../../components/Badge/RangeBadge'\r\nimport { SmallButtonPrimary } from '../../components/Button/index'\r\nimport { getPriceOrderingFromPositionForUI } from '../../components/PositionListItem'\r\nimport RateToggle from '../../components/RateToggle'\r\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\r\nimport { usePositionTokenURI } from '../../hooks/usePositionTokenURI'\r\nimport { TransactionType } from '../../state/transactions/types'\r\nimport { calculateGasMargin } from '../../utils/calculateGasMargin'\r\nimport { ExplorerDataType, getExplorerLink } from '../../utils/getExplorerLink'\r\nimport { LoadingRows } from './styled'\r\n\r\nconst PositionPageButtonPrimary = styled(ButtonPrimary)`\r\n  width: 228px;\r\n  height: 40px;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  border-radius: 12px;\r\n`\r\n\r\nconst PageWrapper = styled.div`\r\n  padding: 68px 16px 16px 16px;\r\n\r\n  min-width: 800px;\r\n  max-width: 960px;\r\n\r\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\r\n    min-width: 100%;\r\n    padding: 16px;\r\n  }\r\n\r\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\r\n    min-width: 100%;\r\n    padding: 16px;\r\n  }\r\n`\r\n\r\nconst BadgeText = styled.div`\r\n  font-weight: 535;\r\n  font-size: 14px;\r\n  color: ${({ theme }) => theme.neutral2};\r\n`\r\n\r\n// responsive text\r\n// disable the warning because we don't use the end prop, we just want to filter it out\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst Label = styled(({ end, ...props }) => <ThemedText.DeprecatedLabel {...props} />)<{ end?: boolean }>`\r\n  display: flex;\r\n  font-size: 16px;\r\n  justify-content: ${({ end }) => (end ? 'flex-end' : 'flex-start')};\r\n  align-items: center;\r\n`\r\n\r\nconst ExtentsText = styled.span`\r\n  color: ${({ theme }) => theme.neutral2};\r\n  font-size: 14px;\r\n  text-align: center;\r\n  margin-right: 4px;\r\n  font-weight: 535;\r\n`\r\n\r\nconst HoverText = styled(ThemedText.DeprecatedMain)`\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.neutral2};\r\n  :hover {\r\n    color: ${({ theme }) => theme.neutral1};\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nconst DoubleArrow = styled.span`\r\n  color: ${({ theme }) => theme.neutral3};\r\n  margin: 0 1rem;\r\n`\r\nconst ResponsiveRow = styled(RowBetween)`\r\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    row-gap: 16px;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst ActionButtonResponsiveRow = styled(ResponsiveRow)`\r\n  width: 50%;\r\n  justify-content: flex-end;\r\n\r\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\r\n    width: 100%;\r\n    flex-direction: row;\r\n    * {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst ResponsiveButtonConfirmed = styled(ButtonConfirmed)`\r\n  border-radius: 12px;\r\n  padding: 6px 8px;\r\n  width: fit-content;\r\n  font-size: 16px;\r\n\r\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\r\n    width: fit-content;\r\n  }\r\n\r\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\r\n    width: fit-content;\r\n  }\r\n`\r\n\r\nconst NFTGrid = styled.div`\r\n  display: grid;\r\n  grid-template: 'overlap';\r\n  min-height: 400px;\r\n`\r\n\r\nconst NFTCanvas = styled.canvas`\r\n  grid-area: overlap;\r\n`\r\n\r\nconst NFTImage = styled.img`\r\n  grid-area: overlap;\r\n  height: 400px;\r\n  /* Ensures SVG appears on top of canvas. */\r\n  z-index: 1;\r\n`\r\n\r\nconst StyledPoolLink = styled(Link)`\r\n  text-decoration: none;\r\n  ${ClickableStyle}\r\n`\r\n\r\nconst PairHeader = styled(ThemedText.H1Medium)`\r\n  margin-right: 10px;\r\n`\r\n\r\nfunction CurrentPriceCard({\r\n  inverted,\r\n  pool,\r\n  currencyQuote,\r\n  currencyBase,\r\n}: {\r\n  inverted?: boolean\r\n  pool?: Pool | null\r\n  currencyQuote?: Currency\r\n  currencyBase?: Currency\r\n}) {\r\n  const { formatPrice } = useFormatter()\r\n\r\n  if (!pool || !currencyQuote || !currencyBase) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <LightCard padding=\"12px\">\r\n      <AutoColumn gap=\"sm\" justify=\"center\">\r\n        <ExtentsText>\r\n          <Trans>Current price</Trans>\r\n        </ExtentsText>\r\n        <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\r\n          {formatPrice({ price: inverted ? pool.token1Price : pool.token0Price, type: NumberType.TokenTx })}\r\n        </ThemedText.DeprecatedMediumHeader>\r\n        <ExtentsText>\r\n          <Trans>\r\n            {{ sym: currencyQuote?.symbol }} per {{ base: currencyBase?.symbol }}\r\n          </Trans>\r\n        </ExtentsText>\r\n      </AutoColumn>\r\n    </LightCard>\r\n  )\r\n}\r\n\r\nconst TokenLink = ({\r\n  children,\r\n  chainId,\r\n  address,\r\n}: PropsWithChildren<{ chainId: SupportedInterfaceChainId; address: string }>) => {\r\n  const tokenLink = getTokenDetailsURL({ address, chain: chainIdToBackendChain({ chainId }) })\r\n  return <StyledRouterLink to={tokenLink}>{children}</StyledRouterLink>\r\n}\r\n\r\nconst ExternalTokenLink = ({ children, chainId, address }: PropsWithChildren<{ chainId: number; address: string }>) => {\r\n  return <ExternalLink href={getExplorerLink(chainId, address, ExplorerDataType.TOKEN)}>{children}</ExternalLink>\r\n}\r\n\r\nfunction LinkedCurrency({ chainId, currency }: { chainId: number; currency?: Currency }) {\r\n  const address = (currency as Token)?.address\r\n  const supportedChain = useSupportedChainId(chainId)\r\n\r\n  const Link = isGqlSupportedChain(supportedChain) ? TokenLink : ExternalTokenLink\r\n  return (\r\n    <Link chainId={chainId} address={address}>\r\n      <RowFixed>\r\n        <CurrencyLogo currency={currency} size={20} style={{ marginRight: '0.5rem' }} />\r\n        <ThemedText.DeprecatedMain>{currency?.symbol} ↗</ThemedText.DeprecatedMain>\r\n      </RowFixed>\r\n    </Link>\r\n  )\r\n}\r\n\r\nfunction getRatio(\r\n  lower: Price<Currency, Currency>,\r\n  current: Price<Currency, Currency>,\r\n  upper: Price<Currency, Currency>\r\n) {\r\n  try {\r\n    if (!current.greaterThan(lower)) {\r\n      return 100\r\n    } else if (!current.lessThan(upper)) {\r\n      return 0\r\n    }\r\n\r\n    const a = Number.parseFloat(lower.toSignificant(15))\r\n    const b = Number.parseFloat(upper.toSignificant(15))\r\n    const c = Number.parseFloat(current.toSignificant(15))\r\n\r\n    const ratio = Math.floor((1 / ((Math.sqrt(a * b) - Math.sqrt(b * c)) / (c - Math.sqrt(b * c)) + 1)) * 100)\r\n\r\n    if (ratio < 0 || ratio > 100) {\r\n      throw Error('Out of range')\r\n    }\r\n\r\n    return ratio\r\n  } catch {\r\n    return undefined\r\n  }\r\n}\r\n\r\n// snapshots a src img into a canvas\r\nfunction getSnapshot(src: HTMLImageElement, canvas: HTMLCanvasElement, targetHeight: number) {\r\n  const context = canvas.getContext('2d')\r\n\r\n  if (context) {\r\n    let { width, height } = src\r\n\r\n    // src may be hidden and not have the target dimensions\r\n    const ratio = width / height\r\n    height = targetHeight\r\n    width = Math.round(ratio * targetHeight)\r\n\r\n    // Ensure crispness at high DPIs\r\n    canvas.width = width * devicePixelRatio\r\n    canvas.height = height * devicePixelRatio\r\n    canvas.style.width = width + 'px'\r\n    canvas.style.height = height + 'px'\r\n    context.scale(devicePixelRatio, devicePixelRatio)\r\n\r\n    context.clearRect(0, 0, width, height)\r\n    context.drawImage(src, 0, 0, width, height)\r\n  }\r\n}\r\n\r\nfunction NFT({ image, height: targetHeight }: { image: string; height: number }) {\r\n  const [animate, setAnimate] = useState(false)\r\n\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const imageRef = useRef<HTMLImageElement>(null)\r\n\r\n  return (\r\n    <NFTGrid\r\n      onMouseEnter={() => {\r\n        setAnimate(true)\r\n      }}\r\n      onMouseLeave={() => {\r\n        // snapshot the current frame so the transition to the canvas is smooth\r\n        if (imageRef.current && canvasRef.current) {\r\n          getSnapshot(imageRef.current, canvasRef.current, targetHeight)\r\n        }\r\n        setAnimate(false)\r\n      }}\r\n    >\r\n      <NFTCanvas ref={canvasRef} />\r\n      <NFTImage\r\n        ref={imageRef}\r\n        src={image}\r\n        hidden={!animate}\r\n        onLoad={() => {\r\n          // snapshot for the canvas\r\n          if (imageRef.current && canvasRef.current) {\r\n            getSnapshot(imageRef.current, canvasRef.current, targetHeight)\r\n          }\r\n        }}\r\n      />\r\n    </NFTGrid>\r\n  )\r\n}\r\n\r\nconst useInverter = ({\r\n  priceLower,\r\n  priceUpper,\r\n  quote,\r\n  base,\r\n  invert,\r\n}: {\r\n  priceLower?: Price<Token, Token>\r\n  priceUpper?: Price<Token, Token>\r\n  quote?: Token\r\n  base?: Token\r\n  invert?: boolean\r\n}): {\r\n  priceLower?: Price<Token, Token>\r\n  priceUpper?: Price<Token, Token>\r\n  quote?: Token\r\n  base?: Token\r\n} => {\r\n  return {\r\n    priceUpper: invert ? priceLower?.invert() : priceUpper,\r\n    priceLower: invert ? priceUpper?.invert() : priceLower,\r\n    quote: invert ? base : quote,\r\n    base: invert ? quote : base,\r\n  }\r\n}\r\n\r\nexport function PositionPageUnsupportedContent() {\r\n  return (\r\n    <PageWrapper>\r\n      <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n        <ThemedText.HeadlineLarge style={{ marginBottom: '8px' }}>\r\n          <Trans>Position unavailable</Trans>\r\n        </ThemedText.HeadlineLarge>\r\n        <ThemedText.BodyPrimary style={{ marginBottom: '32px' }}>\r\n          <Trans>To view a position, you must be connected to the network it belongs to.</Trans>\r\n        </ThemedText.BodyPrimary>\r\n        <PositionPageButtonPrimary as={Link} to=\"/pool\" width=\"fit-content\">\r\n          <Trans>Back to Pool</Trans>\r\n        </PositionPageButtonPrimary>\r\n      </div>\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default function PositionPage() {\r\n  const chainId = useChainId()\r\n  const isSupportedChain = useIsSupportedChainId(chainId)\r\n  if (isSupportedChain) {\r\n    return <PositionPageContent />\r\n  } else {\r\n    return <PositionPageUnsupportedContent />\r\n  }\r\n}\r\n\r\nconst PositionLabelRow = styled(RowFixed)({\r\n  flexWrap: 'wrap',\r\n  gap: 8,\r\n})\r\n\r\nfunction parseTokenId(tokenId: string | undefined): BigNumber | undefined {\r\n  if (!tokenId) return\r\n  try {\r\n    return BigNumber.from(tokenId)\r\n  } catch (error) {\r\n    return\r\n  }\r\n}\r\n\r\nfunction PositionPageContent() {\r\n  const { tokenId: tokenIdFromUrl } = useParams<{ tokenId?: string }>()\r\n  const account = useAccount()\r\n  const supportedChain = useSupportedChainId(account.chainId)\r\n  const signer = useEthersSigner()\r\n  const theme = useTheme()\r\n  const { formatCurrencyAmount, formatDelta, formatTickPrice } = useFormatter()\r\n\r\n  const parsedTokenId = parseTokenId(tokenIdFromUrl)\r\n  const { loading, position: positionDetails } = useV3PositionFromTokenId(parsedTokenId)\r\n\r\n  const {\r\n    token0: token0Address,\r\n    token1: token1Address,\r\n    fee: feeAmount,\r\n    liquidity,\r\n    tickLower,\r\n    tickUpper,\r\n    tokenId,\r\n  } = positionDetails || {}\r\n\r\n  const removed = liquidity?.eq(0)\r\n\r\n  const metadata = usePositionTokenURI(parsedTokenId)\r\n\r\n  const token0 = useToken(token0Address)\r\n  const token1 = useToken(token1Address)\r\n\r\n  const currency0 = token0 ? unwrappedToken(token0) : undefined\r\n  const currency1 = token1 ? unwrappedToken(token1) : undefined\r\n\r\n  // flag for receiving WETH\r\n  const [receiveWETH, setReceiveWETH] = useState(false)\r\n  const nativeCurrency = useNativeCurrency(supportedChain)\r\n  const nativeWrappedSymbol = nativeCurrency.wrapped.symbol\r\n\r\n  // get pool address from details returned\r\n  const poolAddress = token0 && token1 && feeAmount ? Pool.getAddress(token0, token1, feeAmount) : undefined\r\n\r\n  // construct Position from details returned\r\n  const [poolState, pool] = usePool(token0 ?? undefined, token1 ?? undefined, feeAmount)\r\n  const position = useMemo(() => {\r\n    if (pool && liquidity && typeof tickLower === 'number' && typeof tickUpper === 'number') {\r\n      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })\r\n    }\r\n    return undefined\r\n  }, [liquidity, pool, tickLower, tickUpper])\r\n\r\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper)\r\n\r\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position)\r\n  const [manuallyInverted, setManuallyInverted] = useState(false)\r\n\r\n  // handle manual inversion\r\n  const { priceLower, priceUpper, base } = useInverter({\r\n    priceLower: pricesFromPosition.priceLower,\r\n    priceUpper: pricesFromPosition.priceUpper,\r\n    quote: pricesFromPosition.quote,\r\n    base: pricesFromPosition.base,\r\n    invert: manuallyInverted,\r\n  })\r\n\r\n  const inverted = token1 ? base?.equals(token1) : undefined\r\n  const currencyQuote = inverted ? currency0 : currency1\r\n  const currencyBase = inverted ? currency1 : currency0\r\n\r\n  const ratio = useMemo(() => {\r\n    return priceLower && pool && priceUpper\r\n      ? getRatio(\r\n          inverted ? priceUpper.invert() : priceLower,\r\n          pool.token0Price,\r\n          inverted ? priceLower.invert() : priceUpper\r\n        )\r\n      : undefined\r\n  }, [inverted, pool, priceLower, priceUpper])\r\n\r\n  // fees\r\n  const [feeValue0, feeValue1] = useV3PositionFees(pool ?? undefined, positionDetails?.tokenId, receiveWETH)\r\n\r\n  // these currencies will match the feeValue{0,1} currencies for the purposes of fee collection\r\n  const currency0ForFeeCollectionPurposes = pool ? (receiveWETH ? pool.token0 : unwrappedToken(pool.token0)) : undefined\r\n  const currency1ForFeeCollectionPurposes = pool ? (receiveWETH ? pool.token1 : unwrappedToken(pool.token1)) : undefined\r\n\r\n  const [collecting, setCollecting] = useState<boolean>(false)\r\n  const [collectMigrationHash, setCollectMigrationHash] = useState<string | null>(null)\r\n  const isCollectPending = useIsTransactionPending(collectMigrationHash ?? undefined)\r\n  const [showConfirm, setShowConfirm] = useState(false)\r\n\r\n  // usdc prices always in terms of tokens\r\n  const price0 = useStablecoinPrice(token0 ?? undefined)\r\n  const price1 = useStablecoinPrice(token1 ?? undefined)\r\n\r\n  const fiatValueOfFees: CurrencyAmount<Currency> | null = useMemo(() => {\r\n    if (!price0 || !price1 || !feeValue0 || !feeValue1) return null\r\n\r\n    // we wrap because it doesn't matter, the quote returns a USDC amount\r\n    const feeValue0Wrapped = feeValue0?.wrapped\r\n    const feeValue1Wrapped = feeValue1?.wrapped\r\n\r\n    if (!feeValue0Wrapped || !feeValue1Wrapped) return null\r\n\r\n    const amount0 = price0.quote(feeValue0Wrapped)\r\n    const amount1 = price1.quote(feeValue1Wrapped)\r\n    return amount0.add(amount1)\r\n  }, [price0, price1, feeValue0, feeValue1])\r\n\r\n  const fiatValueOfLiquidity: CurrencyAmount<Token> | null = useMemo(() => {\r\n    if (!price0 || !price1 || !position) return null\r\n    const amount0 = price0.quote(position.amount0)\r\n    const amount1 = price1.quote(position.amount1)\r\n    return amount0.add(amount1)\r\n  }, [price0, price1, position])\r\n\r\n  const addTransaction = useTransactionAdder()\r\n  const positionManager = useV3NFTPositionManagerContract()\r\n  const collect = useCallback(async () => {\r\n    if (\r\n      !currency0ForFeeCollectionPurposes ||\r\n      !currency1ForFeeCollectionPurposes ||\r\n      account.status !== 'connected' ||\r\n      !positionManager ||\r\n      !tokenId ||\r\n      !signer\r\n    )\r\n      return\r\n\r\n    setCollecting(true)\r\n\r\n    // we fall back to expecting 0 fees in case the fetch fails, which is safe in the\r\n    // vast majority of cases\r\n    const { calldata, value } = NonfungiblePositionManager.collectCallParameters({\r\n      tokenId: tokenId.toString(),\r\n      expectedCurrencyOwed0: feeValue0 ?? CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0),\r\n      expectedCurrencyOwed1: feeValue1 ?? CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0),\r\n      recipient: account.address,\r\n    })\r\n\r\n    const txn = {\r\n      to: positionManager.address,\r\n      data: calldata,\r\n      value,\r\n    }\r\n\r\n    const connectedChainId = await signer.getChainId()\r\n    if (account.chainId !== connectedChainId) throw new WrongChainError()\r\n\r\n    signer\r\n      .estimateGas(txn)\r\n      .then((estimate) => {\r\n        const newTxn = {\r\n          ...txn,\r\n          gasLimit: calculateGasMargin(estimate),\r\n        }\r\n\r\n        return signer.sendTransaction(newTxn).then((response: TransactionResponse) => {\r\n          setCollectMigrationHash(response.hash)\r\n          setCollecting(false)\r\n\r\n          sendAnalyticsEvent(LiquidityEventName.COLLECT_LIQUIDITY_SUBMITTED, {\r\n            source: LiquiditySource.V3,\r\n            label: [currency0ForFeeCollectionPurposes.symbol, currency1ForFeeCollectionPurposes.symbol].join('/'),\r\n          })\r\n\r\n          addTransaction(response, {\r\n            type: TransactionType.COLLECT_FEES,\r\n            currencyId0: currencyId(currency0ForFeeCollectionPurposes),\r\n            currencyId1: currencyId(currency1ForFeeCollectionPurposes),\r\n            expectedCurrencyOwed0:\r\n              feeValue0?.quotient.toString() ??\r\n              CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0).toExact(),\r\n            expectedCurrencyOwed1:\r\n              feeValue1?.quotient.toString() ??\r\n              CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0).toExact(),\r\n          })\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        setCollecting(false)\r\n        console.error(error)\r\n      })\r\n  }, [\r\n    currency0ForFeeCollectionPurposes,\r\n    currency1ForFeeCollectionPurposes,\r\n    account.status,\r\n    account.address,\r\n    account.chainId,\r\n    positionManager,\r\n    tokenId,\r\n    signer,\r\n    feeValue0,\r\n    feeValue1,\r\n    addTransaction,\r\n  ])\r\n\r\n  // @ts-ignore\r\n  const owner = useSingleCallResult(tokenId ? positionManager : null, 'ownerOf', [tokenId]).result?.[0]\r\n  const ownsNFT = owner === account.address || positionDetails?.operator === account.address\r\n\r\n  const feeValueUpper = inverted ? feeValue0 : feeValue1\r\n  const feeValueLower = inverted ? feeValue1 : feeValue0\r\n\r\n  // check if price is within range\r\n  const below = pool && typeof tickLower === 'number' ? pool.tickCurrent < tickLower : undefined\r\n  const above = pool && typeof tickUpper === 'number' ? pool.tickCurrent >= tickUpper : undefined\r\n  const inRange: boolean = typeof below === 'boolean' && typeof above === 'boolean' ? !below && !above : false\r\n\r\n  function modalHeader() {\r\n    return (\r\n      <AutoColumn gap=\"md\" style={{ marginTop: '20px' }}>\r\n        <LightCard padding=\"12px 16px\">\r\n          <AutoColumn gap=\"md\">\r\n            <RowBetween>\r\n              <RowFixed>\r\n                <CurrencyLogo currency={feeValueUpper?.currency} size={20} style={{ marginRight: '0.5rem' }} />\r\n                <ThemedText.DeprecatedMain>\r\n                  {feeValueUpper ? formatCurrencyAmount({ amount: feeValueUpper }) : '-'}\r\n                </ThemedText.DeprecatedMain>\r\n              </RowFixed>\r\n              <ThemedText.DeprecatedMain>{feeValueUpper?.currency?.symbol}</ThemedText.DeprecatedMain>\r\n            </RowBetween>\r\n            <RowBetween>\r\n              <RowFixed>\r\n                <CurrencyLogo currency={feeValueLower?.currency} size={20} style={{ marginRight: '0.5rem' }} />\r\n                <ThemedText.DeprecatedMain>\r\n                  {feeValueLower ? formatCurrencyAmount({ amount: feeValueLower }) : '-'}\r\n                </ThemedText.DeprecatedMain>\r\n              </RowFixed>\r\n              <ThemedText.DeprecatedMain>{feeValueLower?.currency?.symbol}</ThemedText.DeprecatedMain>\r\n            </RowBetween>\r\n          </AutoColumn>\r\n        </LightCard>\r\n        <Text fontSize={12} fontStyle=\"italic\" color=\"$neutral2\">\r\n          <Trans>Collecting fees will withdraw currently available fees for you.</Trans>\r\n        </Text>\r\n        <ButtonPrimary data-testid=\"modal-collect-fees-button\" onClick={collect}>\r\n          <Trans>Collect</Trans>\r\n        </ButtonPrimary>\r\n      </AutoColumn>\r\n    )\r\n  }\r\n\r\n  const showCollectAsWeth = Boolean(\r\n    ownsNFT &&\r\n      (feeValue0?.greaterThan(0) || feeValue1?.greaterThan(0)) &&\r\n      currency0 &&\r\n      currency1 &&\r\n      (currency0.isNative || currency1.isNative) &&\r\n      !collectMigrationHash\r\n  )\r\n\r\n  if (!positionDetails && !loading) {\r\n    return <PositionPageUnsupportedContent />\r\n  }\r\n\r\n  return loading || poolState === PoolState.LOADING || !feeAmount ? (\r\n    <LoadingRows>\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </LoadingRows>\r\n  ) : (\r\n    <Trace page={InterfacePageName.POOL_PAGE} shouldLogImpression>\r\n      <>\r\n        <Helmet>\r\n          <title>\r\n            {t(`Manage {{quoteSymbol}}/{{baseSymbol}} pool liquidity on Uniswap`, {\r\n              quoteSymbol: currencyQuote?.symbol,\r\n              baseSymbol: currencyBase?.symbol,\r\n            })}\r\n          </title>\r\n        </Helmet>\r\n        <PageWrapper>\r\n          <TransactionConfirmationModal\r\n            isOpen={showConfirm}\r\n            onDismiss={() => setShowConfirm(false)}\r\n            attemptingTxn={collecting}\r\n            hash={collectMigrationHash ?? ''}\r\n            reviewContent={() => (\r\n              <ConfirmationModalContent\r\n                title={<Trans>Claim fees</Trans>}\r\n                onDismiss={() => setShowConfirm(false)}\r\n                topContent={modalHeader}\r\n              />\r\n            )}\r\n            pendingText={<Trans>Collecting fees</Trans>}\r\n          />\r\n          <AutoColumn gap=\"md\">\r\n            <AutoColumn gap=\"sm\">\r\n              <Link\r\n                data-cy=\"visit-pool\"\r\n                style={{ textDecoration: 'none', width: 'fit-content', marginBottom: '0.5rem' }}\r\n                to=\"/pool\"\r\n              >\r\n                <HoverText>\r\n                  <Trans>← Back to Pool</Trans>\r\n                </HoverText>\r\n              </Link>\r\n              <ResponsiveRow>\r\n                <PositionLabelRow>\r\n                  <DoubleCurrencyLogo currencies={[currencyBase, currencyQuote]} size={24} />\r\n                  <StyledPoolLink\r\n                    to={\r\n                      poolAddress\r\n                        ? getPoolDetailsURL(\r\n                            poolAddress,\r\n                            chainIdToBackendChain({ chainId: supportedChain, withFallback: true })\r\n                          )\r\n                        : ''\r\n                    }\r\n                  >\r\n                    <PairHeader>\r\n                      &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\r\n                    </PairHeader>\r\n                  </StyledPoolLink>\r\n                  <Badge style={{ marginRight: '8px' }}>\r\n                    <BadgeText>{formatDelta(parseFloat(new Percent(feeAmount, 1_000_000).toSignificant()))}</BadgeText>\r\n                  </Badge>\r\n                  <RangeBadge removed={removed} inRange={inRange} />\r\n                </PositionLabelRow>\r\n                {ownsNFT && (\r\n                  <ActionButtonResponsiveRow>\r\n                    {currency0 && currency1 && feeAmount && tokenId ? (\r\n                      <ButtonGray\r\n                        as={Link}\r\n                        to={`/add/${currencyId(currency0)}/${currencyId(currency1)}/${feeAmount}/${tokenId}`}\r\n                        padding=\"6px 8px\"\r\n                        width=\"fit-content\"\r\n                        $borderRadius=\"12px\"\r\n                        style={{ marginRight: '8px' }}\r\n                      >\r\n                        <Trans>Increase liquidity</Trans>\r\n                      </ButtonGray>\r\n                    ) : null}\r\n                    {tokenId && !removed ? (\r\n                      <SmallButtonPrimary\r\n                        as={Link}\r\n                        to={`/remove/${tokenId}`}\r\n                        padding=\"6px 8px\"\r\n                        width=\"fit-content\"\r\n                        $borderRadius=\"12px\"\r\n                      >\r\n                        <Trans>Remove liquidity</Trans>\r\n                      </SmallButtonPrimary>\r\n                    ) : null}\r\n                  </ActionButtonResponsiveRow>\r\n                )}\r\n              </ResponsiveRow>\r\n            </AutoColumn>\r\n            <ResponsiveRow align=\"flex-start\">\r\n              <HideSmall\r\n                style={{\r\n                  height: '100%',\r\n                  marginRight: 12,\r\n                }}\r\n              >\r\n                {'result' in metadata ? (\r\n                  <DarkCard\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      flexDirection: 'column',\r\n                      justifyContent: 'space-around',\r\n                      minWidth: '340px',\r\n                    }}\r\n                  >\r\n                    <NFT image={metadata.result.image} height={400} />\r\n                    {typeof account.chainId === 'number' && owner && !ownsNFT ? (\r\n                      <ExternalLink href={getExplorerLink(account.chainId, owner, ExplorerDataType.ADDRESS)}>\r\n                        <Trans>Owner</Trans>\r\n                      </ExternalLink>\r\n                    ) : null}\r\n                  </DarkCard>\r\n                ) : (\r\n                  <DarkCard\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    style={{\r\n                      minWidth: '340px',\r\n                      position: 'relative',\r\n                      overflow: 'hidden',\r\n                    }}\r\n                  >\r\n                    <LoadingFullscreen />\r\n                  </DarkCard>\r\n                )}\r\n              </HideSmall>\r\n              <AutoColumn gap=\"sm\" style={{ width: '100%', height: '100%' }}>\r\n                <DarkCard>\r\n                  <AutoColumn gap=\"md\" style={{ width: '100%' }}>\r\n                    <AutoColumn gap=\"md\">\r\n                      <Label>\r\n                        <Trans>Liquidity</Trans>\r\n                      </Label>\r\n                      {fiatValueOfLiquidity?.greaterThan(new Fraction(1, 100)) ? (\r\n                        <ThemedText.DeprecatedLargeHeader fontSize=\"36px\" fontWeight={535}>\r\n                          {formatCurrencyAmount({\r\n                            amount: fiatValueOfLiquidity,\r\n                            type: NumberType.FiatTokenPrice,\r\n                          })}\r\n                        </ThemedText.DeprecatedLargeHeader>\r\n                      ) : (\r\n                        <ThemedText.DeprecatedLargeHeader color={theme.neutral1} fontSize=\"36px\" fontWeight={535}>\r\n                          <Trans>-</Trans>\r\n                        </ThemedText.DeprecatedLargeHeader>\r\n                      )}\r\n                    </AutoColumn>\r\n                    <LightCard padding=\"12px 16px\">\r\n                      <AutoColumn gap=\"md\">\r\n                        <RowBetween>\r\n                          <LinkedCurrency chainId={account.chainId ?? ChainId.MAINNET} currency={currencyQuote} />\r\n                          <RowFixed>\r\n                            <ThemedText.DeprecatedMain>\r\n                              {formatCurrencyAmount({ amount: inverted ? position?.amount0 : position?.amount1 })}\r\n                            </ThemedText.DeprecatedMain>\r\n                            {typeof ratio === 'number' && !removed ? (\r\n                              <Badge style={{ marginLeft: '10px' }}>\r\n                                <BadgeText>\r\n                                  <Trans>{{ pct: inverted ? ratio : 100 - ratio }}%</Trans>\r\n                                </BadgeText>\r\n                              </Badge>\r\n                            ) : null}\r\n                          </RowFixed>\r\n                        </RowBetween>\r\n                        <RowBetween>\r\n                          <LinkedCurrency chainId={account.chainId ?? ChainId.MAINNET} currency={currencyBase} />\r\n                          <RowFixed>\r\n                            <ThemedText.DeprecatedMain>\r\n                              {formatCurrencyAmount({ amount: inverted ? position?.amount1 : position?.amount0 })}\r\n                            </ThemedText.DeprecatedMain>\r\n                            {typeof ratio === 'number' && !removed ? (\r\n                              <Badge style={{ marginLeft: '10px' }}>\r\n                                <BadgeText>\r\n                                  <Trans>{{ pct: inverted ? 100 - ratio : ratio }}%</Trans>\r\n                                </BadgeText>\r\n                              </Badge>\r\n                            ) : null}\r\n                          </RowFixed>\r\n                        </RowBetween>\r\n                      </AutoColumn>\r\n                    </LightCard>\r\n                  </AutoColumn>\r\n                </DarkCard>\r\n                <DarkCard>\r\n                  <AutoColumn gap=\"md\" style={{ width: '100%' }}>\r\n                    <AutoColumn gap=\"md\">\r\n                      <RowBetween style={{ alignItems: 'flex-start' }}>\r\n                        <AutoColumn gap=\"md\">\r\n                          <Label>\r\n                            <Trans>Unclaimed fees</Trans>\r\n                          </Label>\r\n                          {fiatValueOfFees?.greaterThan(new Fraction(1, 100)) ? (\r\n                            <ThemedText.DeprecatedLargeHeader color={theme.success} fontSize=\"36px\" fontWeight={535}>\r\n                              {formatCurrencyAmount({ amount: fiatValueOfFees, type: NumberType.FiatTokenPrice })}\r\n                            </ThemedText.DeprecatedLargeHeader>\r\n                          ) : (\r\n                            <ThemedText.DeprecatedLargeHeader color={theme.neutral1} fontSize=\"36px\" fontWeight={535}>\r\n                              -\r\n                            </ThemedText.DeprecatedLargeHeader>\r\n                          )}\r\n                        </AutoColumn>\r\n                        {ownsNFT &&\r\n                        (feeValue0?.greaterThan(0) || feeValue1?.greaterThan(0) || !!collectMigrationHash) ? (\r\n                          <ResponsiveButtonConfirmed\r\n                            data-testid=\"collect-fees-button\"\r\n                            disabled={collecting || !!collectMigrationHash}\r\n                            confirmed={!!collectMigrationHash && !isCollectPending}\r\n                            width=\"fit-content\"\r\n                            style={{ borderRadius: '12px' }}\r\n                            padding=\"4px 8px\"\r\n                            onClick={() => setShowConfirm(true)}\r\n                          >\r\n                            {!!collectMigrationHash && !isCollectPending ? (\r\n                              <ThemedText.DeprecatedMain color={theme.neutral1}>\r\n                                <Trans> Collected</Trans>\r\n                              </ThemedText.DeprecatedMain>\r\n                            ) : isCollectPending || collecting ? (\r\n                              <ThemedText.DeprecatedMain color={theme.neutral1}>\r\n                                {' '}\r\n                                <Dots>\r\n                                  <Trans>Collecting</Trans>\r\n                                </Dots>\r\n                              </ThemedText.DeprecatedMain>\r\n                            ) : (\r\n                              <>\r\n                                <ThemedText.DeprecatedMain color={theme.white}>\r\n                                  <Trans>Collect fees</Trans>\r\n                                </ThemedText.DeprecatedMain>\r\n                              </>\r\n                            )}\r\n                          </ResponsiveButtonConfirmed>\r\n                        ) : null}\r\n                      </RowBetween>\r\n                    </AutoColumn>\r\n                    <LightCard padding=\"12px 16px\">\r\n                      <AutoColumn gap=\"md\">\r\n                        <RowBetween>\r\n                          <RowFixed>\r\n                            <CurrencyLogo\r\n                              currency={feeValueUpper?.currency}\r\n                              size={20}\r\n                              style={{ marginRight: '0.5rem' }}\r\n                            />\r\n                            <ThemedText.DeprecatedMain>{feeValueUpper?.currency?.symbol}</ThemedText.DeprecatedMain>\r\n                          </RowFixed>\r\n                          <RowFixed>\r\n                            <ThemedText.DeprecatedMain>\r\n                              {feeValueUpper ? formatCurrencyAmount({ amount: feeValueUpper }) : '-'}\r\n                            </ThemedText.DeprecatedMain>\r\n                          </RowFixed>\r\n                        </RowBetween>\r\n                        <RowBetween>\r\n                          <RowFixed>\r\n                            <CurrencyLogo\r\n                              currency={feeValueLower?.currency}\r\n                              size={20}\r\n                              style={{ marginRight: '0.5rem' }}\r\n                            />\r\n                            <ThemedText.DeprecatedMain>{feeValueLower?.currency?.symbol}</ThemedText.DeprecatedMain>\r\n                          </RowFixed>\r\n                          <RowFixed>\r\n                            <ThemedText.DeprecatedMain>\r\n                              {feeValueLower ? formatCurrencyAmount({ amount: feeValueLower }) : '-'}\r\n                            </ThemedText.DeprecatedMain>\r\n                          </RowFixed>\r\n                        </RowBetween>\r\n                      </AutoColumn>\r\n                    </LightCard>\r\n                    {showCollectAsWeth && (\r\n                      <AutoColumn gap=\"md\">\r\n                        <RowBetween>\r\n                          <ThemedText.DeprecatedMain>\r\n                            <Trans>Collect as {{ nativeWrappedSymbol }}</Trans>\r\n                          </ThemedText.DeprecatedMain>\r\n                          <Toggle\r\n                            id=\"receive-as-weth\"\r\n                            isActive={receiveWETH}\r\n                            toggle={() => setReceiveWETH((receiveWETH) => !receiveWETH)}\r\n                          />\r\n                        </RowBetween>\r\n                      </AutoColumn>\r\n                    )}\r\n                  </AutoColumn>\r\n                </DarkCard>\r\n              </AutoColumn>\r\n            </ResponsiveRow>\r\n            <DarkCard>\r\n              <AutoColumn gap=\"md\">\r\n                <RowBetween>\r\n                  <RowFixed>\r\n                    <Label display=\"flex\" style={{ marginRight: '12px' }}>\r\n                      <Trans>Price range</Trans>\r\n                    </Label>\r\n                    <HideExtraSmall>\r\n                      <>\r\n                        <RangeBadge removed={removed} inRange={inRange} />\r\n                        <span style={{ width: '8px' }} />\r\n                      </>\r\n                    </HideExtraSmall>\r\n                  </RowFixed>\r\n                  <RowFixed>\r\n                    {currencyBase && currencyQuote && (\r\n                      <RateToggle\r\n                        currencyA={currencyBase}\r\n                        currencyB={currencyQuote}\r\n                        handleRateToggle={() => setManuallyInverted(!manuallyInverted)}\r\n                      />\r\n                    )}\r\n                  </RowFixed>\r\n                </RowBetween>\r\n\r\n                <RowBetween>\r\n                  <LightCard padding=\"12px\" width=\"100%\">\r\n                    <AutoColumn gap=\"sm\" justify=\"center\">\r\n                      <ExtentsText>\r\n                        <Trans>Min price</Trans>\r\n                      </ExtentsText>\r\n                      <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\r\n                        {formatTickPrice({\r\n                          price: priceLower,\r\n                          atLimit: tickAtLimit,\r\n                          direction: Bound.LOWER,\r\n                          numberType: NumberType.TokenTx,\r\n                        })}\r\n                      </ThemedText.DeprecatedMediumHeader>\r\n                      <ExtentsText>\r\n                        {' '}\r\n                        <Trans>\r\n                          {{ symbol: currencyQuote?.symbol }} per {{ base: currencyBase?.symbol }}\r\n                        </Trans>\r\n                      </ExtentsText>\r\n\r\n                      {inRange && (\r\n                        <Text fontSize={11} color=\"$neutral3\">\r\n                          <Trans>Your position will be 100% {{ symbol: currencyBase?.symbol }} at this price.</Trans>\r\n                        </Text>\r\n                      )}\r\n                    </AutoColumn>\r\n                  </LightCard>\r\n\r\n                  <DoubleArrow>⟷</DoubleArrow>\r\n                  <LightCard padding=\"12px\" width=\"100%\">\r\n                    <AutoColumn gap=\"sm\" justify=\"center\">\r\n                      <ExtentsText>\r\n                        <Trans>Max price</Trans>\r\n                      </ExtentsText>\r\n                      <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\r\n                        {formatTickPrice({\r\n                          price: priceUpper,\r\n                          atLimit: tickAtLimit,\r\n                          direction: Bound.UPPER,\r\n                          numberType: NumberType.TokenTx,\r\n                        })}\r\n                      </ThemedText.DeprecatedMediumHeader>\r\n                      <ExtentsText>\r\n                        {' '}\r\n                        <Trans>\r\n                          {{ symbol: currencyQuote?.symbol }} per {{ base: currencyBase?.symbol }}\r\n                        </Trans>\r\n                      </ExtentsText>\r\n\r\n                      {inRange && (\r\n                        <Text fontSize={11} color=\"$neutral3\">\r\n                          <Trans>Your position will be 100% {{ symbol: currencyQuote?.symbol }} at this price.</Trans>\r\n                        </Text>\r\n                      )}\r\n                    </AutoColumn>\r\n                  </LightCard>\r\n                </RowBetween>\r\n                <CurrentPriceCard\r\n                  inverted={inverted}\r\n                  pool={pool}\r\n                  currencyQuote={currencyQuote}\r\n                  currencyBase={currencyBase}\r\n                />\r\n              </AutoColumn>\r\n            </DarkCard>\r\n          </AutoColumn>\r\n        </PageWrapper>\r\n        <SwitchLocaleLink />\r\n      </>\r\n    </Trace>\r\n  )\r\n}\r\n"],"names":["ToggleWrapper","styled","button","width","theme","surface2","surface3","ToggleElement","span","isActive","surface1","neutral1","neutral3","fontSize","neutral2","RateToggle","currencyA","currencyB","handleRateToggle","tokenA","wrapped","tokenB","isSorted","sortsBefore","div","style","display","alignItems","onClick","symbol","MAX_UINT128","BigNumber","from","pow","sub","useV3PositionFees","pool","tokenId","asWETH","useSingleCallResult","positionManager","useV3NFTPositionManagerContract","owner","result","tokenIdHexString","toHexString","latestBlockNumber","useBlockNumber","amounts","setAmounts","useState","useEffect","getFees","results","callStatic","collect","recipient","amount0Max","amount1Max","amount0","amount1","CurrencyAmount","fromRawAmount","token0","unwrappedToken","toString","token1","undefined","STARTS_WITH","PositionPageButtonPrimary","ButtonPrimary","PageWrapper","breakpoint","md","sm","BadgeText","Label","end","props","ThemedText","DeprecatedLabel","ExtentsText","HoverText","DeprecatedMain","DoubleArrow","ResponsiveRow","RowBetween","ActionButtonResponsiveRow","ResponsiveButtonConfirmed","ButtonConfirmed","NFTGrid","NFTCanvas","canvas","NFTImage","img","StyledPoolLink","Link","ClickableStyle","PairHeader","H1Medium","CurrentPriceCard","inverted","currencyQuote","currencyBase","formatPrice","useFormatter","LightCard","padding","AutoColumn","gap","justify","Trans","DeprecatedMediumHeader","textAlign","price","token1Price","token0Price","type","NumberType","TokenTx","sym","base","TokenLink","children","chainId","address","tokenLink","getTokenDetailsURL","chain","chainIdToBackendChain","StyledRouterLink","to","ExternalTokenLink","ExternalLink","href","getExplorerLink","ExplorerDataType","TOKEN","LinkedCurrency","currency","supportedChain","useSupportedChainId","isGqlSupportedChain","RowFixed","CurrencyLogo","size","marginRight","getSnapshot","src","targetHeight","context","getContext","height","ratio","Math","round","devicePixelRatio","scale","clearRect","drawImage","NFT","image","animate","setAnimate","canvasRef","useRef","imageRef","onMouseEnter","onMouseLeave","current","ref","hidden","onLoad","useInverter","priceLower","priceUpper","quote","invert","PositionPageUnsupportedContent","flexDirection","HeadlineLarge","marginBottom","BodyPrimary","as","PositionPage","useChainId","useIsSupportedChainId","PositionPageContent","PositionLabelRow","flexWrap","liquidity","positionDetails","feeValue0","feeValue1","fiatValueOfLiquidity","position","fiatValueOfFees","feeValueUpper","feeValueLower","tokenIdFromUrl","useParams","account","useAccount","signer","useEthersSigner","useTheme","formatCurrencyAmount","formatDelta","formatTickPrice","parsedTokenId","error","parseTokenId","loading","useV3PositionFromTokenId","token0Address","token1Address","fee","feeAmount","tickLower","tickUpper","removed","eq","metadata","contract","inputs","useMemo","valid","NEVER_RELOAD","gasRequired","tokenURI","startsWith","JSON","parse","atob","slice","length","usePositionTokenURI","useToken","currency0","currency1","receiveWETH","setReceiveWETH","nativeWrappedSymbol","useNativeCurrency","poolAddress","Pool","getAddress","poolState","usePool","Position","tickAtLimit","useIsTickAtLimit","pricesFromPosition","getPriceOrderingFromPositionForUI","manuallyInverted","setManuallyInverted","equals","lower","upper","greaterThan","lessThan","a","Number","parseFloat","toSignificant","b","c","floor","sqrt","Error","getRatio","currency0ForFeeCollectionPurposes","currency1ForFeeCollectionPurposes","collecting","setCollecting","collectMigrationHash","setCollectMigrationHash","isCollectPending","useIsTransactionPending","showConfirm","setShowConfirm","price0","useStablecoinPrice","price1","feeValue0Wrapped","feeValue1Wrapped","add","addTransaction","useTransactionAdder","useCallback","status","calldata","value","NonfungiblePositionManager","collectCallParameters","expectedCurrencyOwed0","expectedCurrencyOwed1","txn","data","connectedChainId","getChainId","WrongChainError","estimateGas","then","estimate","newTxn","gasLimit","calculateGasMargin","sendTransaction","response","hash","sendAnalyticsEvent","LiquidityEventName","COLLECT_LIQUIDITY_SUBMITTED","source","LiquiditySource","V3","label","join","TransactionType","COLLECT_FEES","currencyId0","currencyId","currencyId1","quotient","toExact","catch","console","ownsNFT","operator","below","tickCurrent","above","inRange","modalHeader","marginTop","amount","Text","fontStyle","color","data-testid","showCollectAsWeth","Boolean","isNative","PoolState","LOADING","LoadingRows","Trace","page","InterfacePageName","POOL_PAGE","shouldLogImpression","Helmet","title","t","quoteSymbol","baseSymbol","TransactionConfirmationModal","isOpen","onDismiss","attemptingTxn","reviewContent","ConfirmationModalContent","topContent","pendingText","data-cy","textDecoration","DoubleCurrencyLogo","currencies","getPoolDetailsURL","withFallback","Badge","Percent","RangeBadge","ButtonGray","$borderRadius","SmallButtonPrimary","align","HideSmall","DarkCard","justifyContent","minWidth","ADDRESS","overflow","LoadingFullscreen","Fraction","DeprecatedLargeHeader","fontWeight","FiatTokenPrice","ChainId","MAINNET","marginLeft","pct","success","disabled","confirmed","borderRadius","Dots","white","Toggle","id","toggle","HideExtraSmall","atLimit","direction","Bound","LOWER","numberType","UPPER","SwitchLocaleLink"],"sourceRoot":""}